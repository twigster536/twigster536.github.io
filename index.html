<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Automation Showcase - HVAC AI + PLC</title>
<link rel="stylesheet" href="styles.css">
<link rel="icon" href="assets/logo.svg" type="image/svg+xml">
</head>
<body>

<!-- Overlay (as requested text) -->
<div id="startOverlay" class="overlay">
  <div class="overlay-card">
    <img src="assets/logo.svg" class="logo" alt="Automation Logo"/>
    <h1>Tap to Start</h1>
    <p>Experience PLC/HMI projects with motion, sound, and demos.</p>
    <button id="startBtn" class="btn-primary">Start Experience</button>
    <small>Headphones recommended üéß</small>
  </div>
</div>

<header>
  <img src="assets/logo.svg" class="brand" alt="logo"/>
  <nav>
    <a href="#showcase">Projects</a>
    <a href="#project" class="cta">Open Project</a>
  </nav>
</header>

<main>
  <!-- After tap, we show this quote area then auto-scroll to Featured Projects -->
  <section id="quote" class="section quote">
    <blockquote>
      <p>"Technology, through automation and artificial intelligence, is definitely one of the most disruptive sources"</p>
      <cite>‚Äî Alain Dehaze</cite>
    </blockquote>
  </section>

  <section id="showcase" class="section">
    <h2>Featured Projects</h2>
    <div class="cards">
      <!-- Slot 1: HVAC AI -->
      <article class="card">
        <img src="assets/card_hvac.png" alt="HVAC AI card">
        <div class="card-body">
          <h3>HVAC AI ‚Äì Prediction + Control</h3>
          <p>LSTM-style predictions with comfort band control and energy summary.</p>
          <button class="btn-tertiary" data-open="hvac">Open project</button>
        </div>
      </article>
      <!-- Slot 2: PLC -->
      <article class="card">
        <img src="assets/card_plc.png" alt="PLC Demo card">
        <div class="card-body">
          <h3>PLC Demo ‚Äì Start/Stop/Auto</h3>
          <p>Classic HMI panel: pumps, tank level, alarms, and ack/reset.</p>
          <button class="btn-tertiary" data-open="plc">Open project</button>
        </div>
      </article>
    </div>
  </section>

  <!-- Project detail area (switches between HVAC and PLC) -->
  <section id="project" class="section project hidden">
    <div class="proj-header">
      <h2 id="projTitle">Project</h2>
      <div class="proj-actions">
        <button id="btnBack" class="btn-secondary">‚Üê Back to Projects</button>
      </div>
    </div>

    <!-- HVAC view -->
    <div id="viewHVAC" class="proj-view hidden">
      <p class="muted">Upload your CSV or try the sample. Adjust setpoint and comfort ¬± to see control state.</p>
      <div class="hmi-wrap">
        <div class="hmi-panel">
          <div class="hmi-row">
            <label>Setpoint: <input id="sp" type="range" min="18" max="26" value="22" step="0.1"> <span id="spVal">22.0</span> C</label>
            <label>Comfort +/-: <input id="band" type="range" min="0.2" max="2.0" value="0.8" step="0.1"> <span id="bandVal">0.8</span> C</label>
            <button class="hmi-btn" id="btnAuto">Auto</button>
            <button class="hmi-btn" id="btnManual">Manual</button>
            <button class="hmi-btn danger" id="btnAlarm">estop</button>
            <button class="hmi-btn" id="btnAck">Ack</button>
            <button class="hmi-btn" data-cmd="testalarm" title="Trigger alarm test">Test Alarm</button>

          </div>
          <div class="status-row">
            <div>HEAT: <span id="stHeat" class="lamp"></span></div>
            <div>COOL: <span id="stCool" class="lamp"></span></div>
            <div>AUTO: <span id="stAuto" class="lamp"></span></div>
            <div>ALARM: <span id="stAlarm" class="lamp"></span></div>
          </div>
          <canvas id="chart" width="1000" height="360" aria-label="Prediction vs Actual chart" role="img"></canvas>
          <p class="muted" id="summary"></p>
          <div class="uploader">
            <input id="file" type="file" accept=".csv">
            <button class="btn-secondary" id="btnSample">Use Sample Data</button>
          </div>
          <p class="muted">CSV headers: LocalTime, IndoorTempC, PredTempC, OutdoorTempC, SetpointC, HVACPowerW</p>
        </div>
      </div>
    </div>

    <!-- PLC view -->
   <!-- PLC view -->
<div id="viewPLC" class="proj-view">
  <p class="muted">
    Manual: Start runs until Stop / E-Stop / High ‚Ä¢ Auto: starts at Low, stops at High ‚Ä¢ E-Stop: immediate stop ‚Ä¢ Alarms: low-not-running (auto) / high-while-running
  </p>

  <div class="hmi-wrap">
    <div class="hmi-panel">
      <!-- Controls -->
      <div class="hmi-row" aria-label="HMI Controls">
        <button class="hmi-btn" data-cmd="manual" title="Switch to Manual Mode">Manual</button>
        <button class="hmi-btn" data-cmd="auto" title="Switch to Auto Mode">Auto</button>

        <button class="hmi-btn" data-cmd="start" title="Start Pump (Manual only)">Start</button>
        <button class="hmi-btn" data-cmd="stop" title="Stop Pump (Manual only)">Stop</button>

        <button class="hmi-btn danger" data-cmd="estop" title="Emergency Stop">Emergency Stop</button>
        <button class="hmi-btn" data-cmd="ack" title="Acknowledge / Reset">ACK / Reset</button>
        <button class="hmi-btn" data-cmd="testalarm" title="Trigger alarm test">Test Alarm</button>
      </div>

      <!-- Status lamps -->
      <div class="status-row" aria-live="polite">
        <div>RUN: <span id="plcRun" class="lamp"></span></div>
        <div>AUTO: <span id="plcAuto" class="lamp"></span></div>
        <div>ALARM: <span id="plcAlarm" class="lamp alarm"></span></div>
      </div>

      <!-- Process graphic -->
      <svg id="plant" viewBox="0 0 600 260" role="img" aria-label="Tank with single pump controlled by PLC">
        <!-- Tank -->
        <rect x="40" y="40" width="220" height="160" rx="10" fill="#0f172a" stroke="#334155" stroke-width="3"/>
        <!-- Water level (animated by JS) -->
        <rect id="level" x="43" y="200" width="214" height="0" fill="#22d3ee" opacity="0.6"/>

        <!-- High / Low markers -->
        <line x1="40" y1="72"  x2="260" y2="72"  stroke="#22d3ee" stroke-dasharray="4 4" opacity="0.8"/>
        <text x="265" y="76"  font-size="12" fill="#94a3b8">HIGH</text>
        <line x1="40" y1="168" x2="260" y2="168" stroke="#22d3ee" stroke-dasharray="4 4" opacity="0.8"/>
        <text x="265" y="172" font-size="12" fill="#94a3b8">LOW</text>

        <!-- Pipe to pump -->
        <rect x="260" y="120" width="110" height="16" fill="#1f2937" stroke="#334155"/>

        <!-- Single Pump -->
        <g id="pump" transform="translate(400,102)">
          <circle cx="34" cy="28" r="28" fill="#0f172a" stroke="#334155" stroke-width="3"/>
          <polygon id="impA" points="34,6 48,28 34,50 20,28" fill="#a7f3d0" opacity="0.9"/>
          <text x="34" y="70" font-size="12" fill="#94a3b8" text-anchor="middle">Pump</text>
        </g>
      </svg>
    </div>
  </div>
</div>


  </section>
</main>

<!-- UI/general -->
<audio id="sndClick"   src="assets/click.wav"    preload="auto"></audio>
<audio id="sndIntro"   src="assets/intro.wav"    preload="auto"></audio>
<audio id="sndIntro"   src="assets/intro.mp3"    preload="auto"></audio>

<!-- PLC actions -->
<audio id="sndStart"   src="assets/click.wav"  preload="auto"></audio>
<audio id="sndStop"    src="assets/click.wav"   preload="auto"></audio>
<audio id="sndEstop"   src="assets/click.wav"   preload="auto"></audio>
<audio id="sndAlarm"   src="assets/alarm.wav"  preload="auto" loop></audio>

<!-- Continuous pump hum (loop while RUN) -->
<audio id="sndPump"    src="assets/pumb.wav"    preload="auto" loop></audio>






<script src="script.js"></script>
</body>
</html>
